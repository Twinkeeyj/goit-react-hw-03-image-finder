{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/dataApi.js","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","term","handleChenge","e","setState","target","value","handleSubmit","event","preventDefault","props","onSubmit","this","className","type","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","newModal","openModal","largeImageURL","onClick","alt","src","ImageGallery","data","map","webformatURL","id","Button","handleClick","fetchDataWithQuery","query","page","axios","get","then","response","hits","propTypes","PropTypes","string","isRequired","number","key","Loaders","color","height","width","timeout","text","React","Modal","modal","code","nodeName","modalClose","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","App","loading","error","fetchData","DataApi","length","prevState","catch","finally","handleSearch","queryOn","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"gQAGqBA,E,4MAInBC,MAAQ,CACNC,KAAM,I,EAGRC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,KAAME,EAAEE,OAAOC,S,EAEjCC,aAAe,SAACC,GACdA,EAAMC,iBACN,EAAKC,MAAMC,SAAS,EAAKX,MAAMC,O,uDAIvB,IACAA,EAASW,KAAKZ,MAAdC,KACR,OACE,8BACE,wBAAQY,UAAU,YAAlB,SACE,uBACEA,UAAU,aACVF,SAAUC,KAAKL,aAFjB,UAIE,wBAAQO,KAAK,SAASD,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEE,KAAK,OACLT,MAAOL,EACPY,UAAU,mBACVC,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUP,KAAKV,0B,GAtCUkB,aCElBC,E,4MAKnBC,SAAS,SAACnB,GACT,EAAKO,MAAMa,UAAU,EAAKb,MAAMc,gB,uDAGlC,OACA,mCACD,oBAAKX,UAAU,mBAAmBY,QAASb,KAAKU,SAAhD,SACE,qBAAmCI,IAAI,MAAMC,IAAKf,KAAKF,MAAMiB,IAAMd,UAAU,0BAAnED,KAAKF,MAAMc,uB,GAZuBJ,aCW/BQ,MAZf,YAAyC,IAAlBC,EAAiB,EAAjBA,KAAMN,EAAW,EAAXA,UAE7B,OACC,8BACK,oBAAIV,UAAU,eAAd,SACDgB,EAAKC,KAAI,SAAA3B,GAAC,OAAG,cAAC,EAAD,CAAkBoB,UAAWA,EAAsBI,IAAKxB,EAAE4B,aAAcP,cAAerB,EAAEqB,eAA5CrB,EAAE6B,YCGlDC,MATf,YAAkC,IAAhBC,EAAe,EAAfA,YAChB,OACE,mCACE,wBAAQpB,KAAK,SAASW,QAASS,EAAarB,UAAU,SAAtD,qB,iCCHAsB,EAAqB,SAACC,EAAOC,GAEjC,OAAOC,IACJC,IADI,qCAE2BH,EAF3B,iBAEyCC,EAFzC,gBADK,qCACL,yDAIJG,MAAK,SAAAC,GAAQ,OAAIA,EAASZ,KAAKa,SAErB,EAAGP,EAElBA,EAAmBQ,UAAY,CAC7BP,MAAOQ,IAAUC,OAAOC,WACxBT,KAAMO,IAAUG,OAAOD,WACvBE,IAAKJ,IAAUC,OAAOC,Y,qBCbHG,E,uKAEjB,OACE,qCACA,cAAC,IAAD,CACEnC,KAAK,OACLoC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAEX,6BAAKzC,KAAKF,MAAM4C,c,GAXeC,IAAMnC,WCAtBoC,E,4MAKnBC,MAAQ,SAAAtD,GAES,WAAXA,EAAEuD,MAA0C,QAArBvD,EAAEE,OAAOsD,UAClC,EAAKjD,MAAMkD,c,EAKfC,kBAAoB,WAClBC,OAAOC,iBAAiB,UAAW,EAAKN,OACxCK,OAAOC,iBAAiB,QAAS,EAAKN,Q,EAGxCO,qBAAuB,WACrBF,OAAOG,oBAAoB,UAAW,EAAKR,OAC3CK,OAAOG,oBAAoB,QAAS,EAAKR,Q,uDAIzC,OACE,qBAAK5C,UAAU,UAAf,SACA,qBAAKA,UAAU,QAAf,SACE,qBAAKc,IAAKf,KAAKF,MAAMc,cAAeE,IAAI,a,GA3BbN,aCMd8C,E,4MACnBlE,MAAQ,CACN6B,KAAM,GACNsC,SAAS,EACTC,MAAO,KACPhC,MAAO,GACPC,KAAM,EACNb,cAAe,M,EAcjB6C,UAAY,WAKV,EAAKjE,SAAS,CAAE+D,SAAS,IALT,MAMQ,EAAKnE,MAArBoC,EANQ,EAMRA,MAAOC,EANC,EAMDA,KAEfiC,EAA2BlC,EAAOC,GAE/BG,MAAK,SAAAX,GACAA,EAAK0C,OAAS,EAChB,EAAKnE,SAAS,CAAEgE,OAAO,IAEvB,EAAKhE,UAAS,SAAAoE,GAAS,MAAK,CAC1B3C,KAAK,GAAD,mBAAM2C,EAAU3C,MAAhB,YAAyBA,IAC7BQ,KAAMmC,EAAUnC,KAAO,EACvB+B,OAAO,SAIZK,OAAM,SAAAL,GAAK,OAAI,EAAKhE,SAAS,CAAEgE,aAC/BM,SAAQ,kBAAM,EAAKtE,SAAS,CAAE+D,SAAS,Q,EAE5CQ,aAAe,SAAAC,GACb,EAAKxE,SAAS,CACZyB,KAAM,KAER,EAAKzB,SAAS,CACZgC,MAAOwC,K,EAGXrD,UAAY,SAAAC,GACV,EAAKpB,SAAS,CACZoB,cAAeA,K,EAInBoC,WAAa,WACX,EAAKxD,UAAS,SAAAoE,GAAS,MAAK,CAAEhD,eAAgBgD,EAAUhD,mB,iEAnDvCqD,EAAWL,GACVA,EAAUpC,QACVxB,KAAKZ,MAAMoC,OAE3BxB,KAAKyD,YAEPP,OAAOgB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,+BA8CJ,IAAD,EACyCvE,KAAKZ,MAA7C6B,EADD,EACCA,KAAMsC,EADP,EACOA,QAASC,EADhB,EACgBA,MAAO5C,EADvB,EACuBA,cAC9B,OACE,gCACE,cAAC,EAAD,CAAWb,SAAUC,KAAK+D,eACzBP,GAAS,cAAC,EAAD,CAASd,KAAK,UACvBa,EACC,cAAC,EAAD,CAASb,KAAK,eAEd,cAAC,EAAD,CAAc/B,UAAWX,KAAKW,UAAWM,KAAMA,IAEhDA,EAAK0C,OAAS,GAAK,cAAC,EAAD,CAAQrC,YAAatB,KAAKyD,YAC7C7C,GACC,cAAC,EAAD,CACEb,SAAUC,KAAKW,UACfC,cAAeA,EACfoC,WAAYhD,KAAKgD,oB,GA/EIxC,aCHjCgE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFN,SAASO,eAAe,W","file":"static/js/main.5623e8fc.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class Searchbar extends Component {\n  static propTypes={\n    onSubmit: PropTypes.func.isRequired,\n  }\n  state = {\n    term: '',\n  };\n\n  handleChenge = e => {\n    this.setState({ term: e.target.value });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.term);\n\n  };\n\n  render() {\n    const { term } = this.state;\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form\n            className=\"SearchForm\"\n            onSubmit={this.handleSubmit}\n          >\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              name=\"term\"\n              value={term}\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleChenge}\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n\n\nexport default class ImageGalleryItem extends Component {\n  static propTypes={\nonClick: PropTypes.func\n  }\n\n  newModal=(e)=>{\n   this.props.openModal(this.props.largeImageURL)\n  }\n  render(){\n return(\n <>\n<li  className=\"ImageGalleryItem\" onClick={this.newModal}>\n  <img key={this.props.largeImageURL}alt=\"img\" src={this.props.src}  className=\"ImageGalleryItem-image\"  />\n</li>\n\n</>\n)\n }\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\"\n\nfunction ImageGallery({data, openModal}){\n\nreturn(\n <div>\n      <ul className=\"ImageGallery\">\n  {  data.map(e=> <ImageGalleryItem openModal={openModal} key={e.id} src={e.webformatURL} largeImageURL={e.largeImageURL}/>\n    )}\n\n  </ul>\n </div>\n)\n}\nexport default ImageGallery;\nImageGallery.propTypes={\n  data: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n}\n","import React from 'react';\n// import PropTypes from 'prop-types';\n\nfunction Button({ handleClick }) {\n  return (\n    <>\n      <button type=\"button\" onClick={handleClick} className=\"Button\">\n        more\n      </button>\n    </>\n  );\n}\nexport default Button;\n\n// Button.propTypes={\n//   onClick: PropTypes.func.isRequired,\n// }\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst fetchDataWithQuery = (query, page) => {\r\n  const key = '18953404-219a87b5236596fa40acd8a55';\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\nexport default {  fetchDataWithQuery,\r\n};\r\nfetchDataWithQuery.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  key: PropTypes.string.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\nimport React from 'react';\n\nexport default class Loaders extends React.Component {\n  render() {\n    return (\n      <>\n      <Loader\n        type=\"Bars\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n      <h1>{this.props.text}</h1>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  static propTypes={\n    modal:PropTypes.func,\n    largeImageURL: PropTypes.string.isRequired,\n  }\n  modal = e => {\n\n    if (e.code === 'Escape' || e.target.nodeName !==\"IMG\") {\n      this.props.modalClose();\n      // console.dir(e.target);\n    }\n  };\n\n  componentDidMount = () => {\n    window.addEventListener('keydown', this.modal);\n    window.addEventListener('click', this.modal);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('keydown', this.modal);\n    window.removeEventListener('click', this.modal);\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\">\n      <div className=\"Modal\">\n        <img src={this.props.largeImageURL} alt=\"\" />\n      </div>\n    </div>\n    );\n  }\n}","import React, { Component } from 'react';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\nimport DataApi from './services/dataApi';\r\nimport Loaders from './components/Loader/Loader';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    data: [],\r\n    loading: false,\r\n    error: null,\r\n    query: '',\r\n    page: 1,\r\n    largeImageURL: null,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchData();\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  fetchData = () => {\r\n    // if(this.state.data.length <1){\r\n    //   this.setState({error: true})\r\n    // }\r\n\r\n    this.setState({ loading: true });\r\n    const { query, page } = this.state;\r\n\r\n    DataApi.fetchDataWithQuery(query, page)\r\n\r\n      .then(data => {\r\n        if (data.length < 1) {\r\n          this.setState({ error: true });\r\n        } else {\r\n          this.setState(prevState => ({\r\n            data: [...prevState.data, ...data],\r\n            page: prevState.page + 1,\r\n            error: false,\r\n          }));\r\n        }\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n  handleSearch = queryOn => {\r\n    this.setState({\r\n      data: [],\r\n    });\r\n    this.setState({\r\n      query: queryOn,\r\n    });\r\n  };\r\n  openModal = largeImageURL => {\r\n    this.setState({\r\n      largeImageURL: largeImageURL,\r\n    });\r\n  };\r\n\r\n  modalClose = () => {\r\n    this.setState(prevState => ({ largeImageURL: !prevState.largeImageURL }));\r\n  };\r\n\r\n  render() {\r\n    const { data, loading, error, largeImageURL } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleSearch} />\r\n        {error && <Loaders text=\"ERRoR\" />}\r\n        {loading ? (\r\n          <Loaders text=\"Loading...\" />\r\n        ) : (\r\n          <ImageGallery openModal={this.openModal} data={data} />\r\n        )}\r\n        {data.length > 0 && <Button handleClick={this.fetchData} />}\r\n        {largeImageURL && (\r\n          <Modal\r\n            onSubmit={this.openModal}\r\n            largeImageURL={largeImageURL}\r\n            modalClose={this.modalClose}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}